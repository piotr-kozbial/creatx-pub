<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="creatx/css/style.css" rel="stylesheet" type="text/css">
    </head>
    <body id="body" oncontextmenu="return false;" style="width:100%; height:100%">

        <!--script src="liquidfun.js"></script-->
	<script src="creatx/Box2D_v2.2.1_min.js"></script>
        <script>
         var server_communications_url_path = "/creatx/request";
		     var resources_prefix = "creatx/";
        </script>

        <div style="position:absolute; left=0; right=0; width:100%; height:100%; overflow:hidden">
        <img src="creatx/blue-sky.png" style="max-width: 150%">
        <!-- <img src="creatx/starry-night.png" style="max-width: 150%" > -->
        </div>
        <div id="app"></div>

	<script>
	  function createPolygonShape(box2d, vertices) {
    var shape = new box2d.b2PolygonShape();            
    var buffer = box2d.allocate(vertices.length * 8, 'float', box2d.ALLOC_STACK);
    var offset = 0;
    for (var i=0;i<vertices.length;i++) {
        box2d.setValue(buffer+(offset), vertices[i].get_x(), 'float'); // x
        box2d.setValue(buffer+(offset+4), vertices[i].get_y(), 'float'); // y
        offset += 8;
    }            
    var ptr_wrapped = box2d.wrapPointer(buffer, box2d.b2Vec2);
    shape.Set(ptr_wrapped, vertices.length);
    return shape;
}
</script>

	<script src="creatx/cljs-out/dev-main.js" type="text/javascript"></script>

        <script>
         function setup() { app.core.main();}
         function draw() { gamebase.events.callback("draw"); }
         function keyTyped()  { gamebase.events.callback("canvas-key-typed");  return false; }
         function mousePressed()  { gamebase.events.callback("canvas-mouse-pressed"); return false; }
         function mouseMoved()    { gamebase.events.callback("canvas-mouse-moved"); return false; }
         function mouseDragged()  { gamebase.events.callback("mouse-dragged"); gamebase.events.callback("canvas-mouse-dragged");  return false; }
         function mouseReleased() { gamebase.events.callback("canvas-mouse-released"); return false; }
         function mouseClicked()  { gamebase.events.callback("canvas-mouse-clicked"); return false; }
         function mouseScrolled() { gamebase.events.callback("canvas-mouse-scrolled"); return false; }
         function windowResized() { gamebase.events.callback("window-resized"); return false; }
        </script>

    </body>
</html>
